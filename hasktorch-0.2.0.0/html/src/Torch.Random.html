<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><a name="line-4"></a><span>
</span><a name="line-5"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Torch.Random</span><span>
</span><a name="line-6"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Torch.Random.html#mkGenerator"><span class="hs-identifier hs-var">mkGenerator</span></a><span>
</span><a name="line-7"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span>
</span><a name="line-8"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#randn"><span class="hs-identifier hs-var">randn</span></a><span>
</span><a name="line-9"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#randn%27"><span class="hs-identifier hs-var">randn'</span></a><span>
</span><a name="line-10"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#rand"><span class="hs-identifier hs-var">rand</span></a><span>
</span><a name="line-11"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#rand%27"><span class="hs-identifier hs-var">rand'</span></a><span>
</span><a name="line-12"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#randint"><span class="hs-identifier hs-var">randint</span></a><span>
</span><a name="line-13"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#randint%27"><span class="hs-identifier hs-var">randint'</span></a><span>
</span><a name="line-14"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#normal"><span class="hs-identifier hs-var">normal</span></a><span>
</span><a name="line-15"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Torch.Random.html#normal%27"><span class="hs-identifier hs-var">normal'</span></a><span>
</span><a name="line-16"></a><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-17"></a><span>
</span><a name="line-18"></a><span class="hs-keyword">import</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Cast.html"><span class="hs-identifier">Torch.Internal.Cast</span></a><span>
</span><a name="line-19"></a><span class="hs-keyword">import</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Class.html"><span class="hs-identifier">Torch.Internal.Class</span></a><span> </span><span class="hs-special">(</span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Class.html#Castable"><span class="hs-identifier hs-type">Castable</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-20"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Const.html"><span class="hs-identifier">Torch.Internal.Const</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">ATen</span><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html"><span class="hs-identifier">Torch.Internal.Type</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">ATen</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a><span>
</span><a name="line-23"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html"><span class="hs-identifier">Torch.Internal.Managed.Type.Generator</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">ATen</span><span>
</span><a name="line-24"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.TensorFactories.html"><span class="hs-identifier">Torch.Internal.Managed.TensorFactories</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">LibTorch</span><span>
</span><a name="line-25"></a><span class="hs-keyword">import</span><span> </span><a href="Torch.Device.html"><span class="hs-identifier">Torch.Device</span></a><span>
</span><a name="line-26"></a><span class="hs-keyword">import</span><span> </span><a href="Torch.TensorOptions.html"><span class="hs-identifier">Torch.TensorOptions</span></a><span>
</span><a name="line-27"></a><span class="hs-keyword">import</span><span> </span><a href="Torch.Tensor.html"><span class="hs-identifier">Torch.Tensor</span></a><span>
</span><a name="line-28"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Foreign.ForeignPtr.html"><span class="hs-identifier">Foreign.ForeignPtr</span></a><span>
</span><a name="line-29"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.Unsafe.html"><span class="hs-identifier">System.IO.Unsafe</span></a><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Concurrent.html"><span class="hs-identifier">Control.Concurrent</span></a><span>
</span><a name="line-31"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/stm-2.5.0.0/src/Control.Concurrent.STM.html"><span class="hs-identifier">Control.Concurrent.STM</span></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/stm-2.5.0.0/src/Control.Monad.STM.html"><span class="hs-identifier">Control.Monad.STM</span></a><span>
</span><a name="line-34"></a><span>
</span><a name="line-35"></a><span class="hs-keyword">instance</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#TVar"><span class="hs-identifier hs-type">TVar</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#Generator"><span class="hs-identifier hs-type">ATen.Generator</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-36"></a><span>  </span><a name="local-8214565720323786087"><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier">show</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;_&quot;</span><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span class="hs-keyword">data</span><span> </span><a name="Generator"><a href="Torch.Random.html#Generator"><span class="hs-identifier">Generator</span></a></a><span>
</span><a name="line-39"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Generator"><a href="Torch.Random.html#Generator"><span class="hs-identifier">Generator</span></a></a><span>
</span><a name="line-40"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="device"><a href="Torch.Random.html#device"><span class="hs-identifier">device</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-type">Device</span></a><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="seed"><a href="Torch.Random.html#seed"><span class="hs-identifier">seed</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a><span>
</span><a name="line-42"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="generator"><a href="Torch.Random.html#generator"><span class="hs-identifier">generator</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#TVar"><span class="hs-identifier hs-type">TVar</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#Generator"><span class="hs-identifier hs-type">ATen.Generator</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-43"></a><span>  </span><span class="hs-special">}</span><span>
</span><a name="line-44"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a><span class="hs-special">,</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span class="hs-special">)</span><span>
</span><a name="line-45"></a><span>
</span><a name="line-46"></a><span class="hs-identifier">mkGenerator</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-type">Device</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Word.html#Word64"><span class="hs-identifier hs-type">Word64</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span>
</span><a name="line-47"></a><a name="mkGenerator"><a href="Torch.Random.html#mkGenerator"><span class="hs-identifier">mkGenerator</span></a></a><span> </span><a name="local-6989586621679277584"><a href="#local-6989586621679277584"><span class="hs-identifier">device</span></a></a><span> </span><a name="local-6989586621679277585"><a href="#local-6989586621679277585"><span class="hs-identifier">seed</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-48"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679277584"><span class="hs-identifier hs-var">device</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-49"></a><span>    </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-var">Device</span></a><span> </span><a href="Torch.Device.html#CPU"><span class="hs-identifier hs-var">CPU</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-50"></a><span>      </span><a name="local-6989586621679277586"><a href="#local-6989586621679277586"><span class="hs-identifier">genPtr</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#newCPUGenerator"><span class="hs-identifier hs-var">ATen.newCPUGenerator</span></a><span> </span><a href="#local-6989586621679277585"><span class="hs-identifier hs-var">seed</span></a><span>
</span><a name="line-51"></a><span>      </span><a name="local-6989586621679277587"><a href="#local-6989586621679277587"><span class="hs-identifier">genenerator</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#newTVarIO"><span class="hs-identifier hs-var">newTVarIO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679277586"><span class="hs-identifier hs-var">genPtr</span></a><span class="hs-special">)</span><span>
</span><a name="line-52"></a><span>      </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-var">Generator</span></a><span> </span><a href="#local-6989586621679277584"><span class="hs-identifier hs-var">device</span></a><span> </span><a href="#local-6989586621679277585"><span class="hs-identifier hs-var">seed</span></a><span> </span><a href="#local-6989586621679277587"><span class="hs-identifier hs-var">genenerator</span></a><span>
</span><a name="line-53"></a><span>    </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-var">Device</span></a><span> </span><a href="Torch.Device.html#CUDA"><span class="hs-identifier hs-var">CUDA</span></a><span> </span><a name="local-6989586621679277588"><a href="#local-6989586621679277588"><span class="hs-identifier">idx</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-54"></a><span>      </span><a name="local-6989586621679277589"><a href="#local-6989586621679277589"><span class="hs-identifier">genPtr</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#newCUDAGenerator"><span class="hs-identifier hs-var">ATen.newCUDAGenerator</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a><span> </span><a href="#local-6989586621679277588"><span class="hs-identifier hs-var">idx</span></a><span class="hs-special">)</span><span>
</span><a name="line-55"></a><span>      </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#generator_set_current_seed"><span class="hs-identifier hs-var">ATen.generator_set_current_seed</span></a><span> </span><a href="#local-6989586621679277589"><span class="hs-identifier hs-var">genPtr</span></a><span> </span><a href="#local-6989586621679277585"><span class="hs-identifier hs-var">seed</span></a><span>
</span><a name="line-56"></a><span>      </span><a name="local-6989586621679277590"><a href="#local-6989586621679277590"><span class="hs-identifier">genenerator</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#newTVarIO"><span class="hs-identifier hs-var">newTVarIO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679277589"><span class="hs-identifier hs-var">genPtr</span></a><span class="hs-special">)</span><span>
</span><a name="line-57"></a><span>      </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-var">Generator</span></a><span> </span><a href="#local-6989586621679277584"><span class="hs-identifier hs-var">device</span></a><span> </span><a href="#local-6989586621679277585"><span class="hs-identifier hs-var">seed</span></a><span> </span><a href="#local-6989586621679277590"><span class="hs-identifier hs-var">genenerator</span></a><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span class="hs-keyword">type</span><span> </span><a name="RandomGenFunc"><a href="Torch.Random.html#RandomGenFunc"><span class="hs-identifier">RandomGenFunc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#IntArray"><span class="hs-identifier hs-type">ATen.IntArray</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#Generator"><span class="hs-identifier hs-type">ATen.Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#TensorOptions"><span class="hs-identifier hs-type">ATen.TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.ForeignPtr.html#ForeignPtr"><span class="hs-identifier hs-type">ForeignPtr</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Type.html#Tensor"><span class="hs-identifier hs-type">ATen.Tensor</span></a><span class="hs-special">)</span><span>
</span><a name="line-60"></a><span>
</span><a name="line-61"></a><span class="hs-identifier">generatorFactory</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Torch.Random.html#RandomGenFunc"><span class="hs-identifier hs-type">RandomGenFunc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-62"></a><a name="generatorFactory"><a href="Torch.Random.html#generatorFactory"><span class="hs-identifier">generatorFactory</span></a></a><span> </span><a name="local-6989586621679277591"><a href="#local-6989586621679277591"><span class="hs-identifier">func</span></a></a><span> </span><a name="local-6989586621679277592"><a href="#local-6989586621679277592"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277593"><a href="#local-6989586621679277593"><span class="hs-identifier">options</span></a></a><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-var">Generator</span></a><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-63"></a><span>  </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.IO.Unsafe.html#unsafePerformIO"><span class="hs-identifier hs-var">unsafePerformIO</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-64"></a><span>    </span><a name="local-6989586621679277599"><a href="#local-6989586621679277599"><span class="hs-identifier">mGenerator</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#atomically"><span class="hs-identifier hs-var">atomically</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-65"></a><span>      </span><a name="local-6989586621679277597"><a href="#local-6989586621679277597"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#readTVar"><span class="hs-identifier hs-var">readTVar</span></a><span> </span><a href="#local-6989586621679277596"><span class="hs-identifier hs-var">generator</span></a><span>
</span><a name="line-66"></a><span>      </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679277597"><span class="hs-identifier hs-var">v</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-67"></a><span>        </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679277598"><a href="#local-6989586621679277598"><span class="hs-identifier">v'</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-68"></a><span>          </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#writeTVar"><span class="hs-identifier hs-var">writeTVar</span></a><span> </span><a href="#local-6989586621679277596"><span class="hs-identifier hs-var">generator</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-69"></a><span>          </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679277598"><span class="hs-identifier hs-var">v'</span></a><span>
</span><a name="line-70"></a><span>        </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-71"></a><span>    </span><a name="local-6989586621679277603"><a href="#local-6989586621679277603"><span class="hs-identifier">genPtr</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679277599"><span class="hs-identifier hs-var">mGenerator</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-72"></a><span>                </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679277600"><a href="#local-6989586621679277600"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="#local-6989586621679277600"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-73"></a><span>                </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679277594"><span class="hs-identifier hs-var">device</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-74"></a><span>                  </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-var">Device</span></a><span> </span><a href="Torch.Device.html#CPU"><span class="hs-identifier hs-var">CPU</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#newCPUGenerator"><span class="hs-identifier hs-var">ATen.newCPUGenerator</span></a><span> </span><a href="#local-6989586621679277595"><span class="hs-identifier hs-var">seed</span></a><span>
</span><a name="line-75"></a><span>                  </span><a href="Torch.Device.html#Device"><span class="hs-identifier hs-var">Device</span></a><span> </span><a href="Torch.Device.html#CUDA"><span class="hs-identifier hs-var">CUDA</span></a><span> </span><a name="local-6989586621679277601"><a href="#local-6989586621679277601"><span class="hs-identifier">idx</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-76"></a><span>                    </span><a name="local-6989586621679277602"><a href="#local-6989586621679277602"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#newCUDAGenerator"><span class="hs-identifier hs-var">ATen.newCUDAGenerator</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a><span> </span><a href="#local-6989586621679277601"><span class="hs-identifier hs-var">idx</span></a><span class="hs-special">)</span><span>
</span><a name="line-77"></a><span>                    </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#generator_set_current_seed"><span class="hs-identifier hs-var">ATen.generator_set_current_seed</span></a><span> </span><a href="#local-6989586621679277602"><span class="hs-identifier hs-var">gen</span></a><span> </span><a href="#local-6989586621679277595"><span class="hs-identifier hs-var">seed</span></a><span>
</span><a name="line-78"></a><span>                    </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="#local-6989586621679277602"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-79"></a><span>    </span><a name="local-6989586621679277604"><a href="#local-6989586621679277604"><span class="hs-identifier">tensor</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Cast.html#cast3"><span class="hs-identifier hs-var">cast3</span></a><span> </span><a href="#local-6989586621679277591"><span class="hs-identifier hs-var">func</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679277592"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="#local-6989586621679277603"><span class="hs-identifier hs-var">genPtr</span></a><span> </span><a href="#local-6989586621679277593"><span class="hs-identifier hs-var">options</span></a><span>
</span><a name="line-80"></a><span>    </span><a name="local-6989586621679277605"><a href="#local-6989586621679277605"><span class="hs-identifier">nextSeed</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.Type.Generator.html#generator_current_seed"><span class="hs-identifier hs-var">ATen.generator_current_seed</span></a><span> </span><a href="#local-6989586621679277603"><span class="hs-identifier hs-var">genPtr</span></a><span>
</span><a name="line-81"></a><span>    </span><a name="local-6989586621679277606"><a href="#local-6989586621679277606"><span class="hs-identifier">nextGenenerator</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Conc.Sync.html#newTVarIO"><span class="hs-identifier hs-var">newTVarIO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679277603"><span class="hs-identifier hs-var">genPtr</span></a><span class="hs-special">)</span><span>
</span><a name="line-82"></a><span>    </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679277604"><span class="hs-identifier hs-var">tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-var">Generator</span></a><span> </span><a href="#local-6989586621679277594"><span class="hs-identifier hs-var">device</span></a><span> </span><a href="#local-6989586621679277605"><span class="hs-identifier hs-var">nextSeed</span></a><span> </span><a href="#local-6989586621679277606"><span class="hs-identifier hs-var">nextGenenerator</span></a><span class="hs-special">)</span><span>
</span><a name="line-83"></a><span>
</span><a name="line-84"></a><span>
</span><a name="line-85"></a><span class="hs-identifier">randn</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-86"></a><a name="randn"><a href="Torch.Random.html#randn"><span class="hs-identifier">randn</span></a></a><span> </span><a name="local-6989586621679277607"><a href="#local-6989586621679277607"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277608"><a href="#local-6989586621679277608"><span class="hs-identifier">opts</span></a></a><span> </span><a name="local-6989586621679277609"><a href="#local-6989586621679277609"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#generatorFactory"><span class="hs-identifier hs-var">generatorFactory</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.TensorFactories.html#randn_lpo"><span class="hs-identifier hs-var">LibTorch.randn_lpo</span></a><span> </span><a href="#local-6989586621679277607"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="#local-6989586621679277608"><span class="hs-identifier hs-var">opts</span></a><span> </span><a href="#local-6989586621679277609"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-87"></a><span>
</span><a name="line-88"></a><span class="hs-identifier">randn'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-89"></a><a name="randn%27"><a href="Torch.Random.html#randn%27"><span class="hs-identifier">randn'</span></a></a><span> </span><a name="local-6989586621679277610"><a href="#local-6989586621679277610"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277611"><a href="#local-6989586621679277611"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#randn"><span class="hs-identifier hs-var">randn</span></a><span> </span><a href="#local-6989586621679277610"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-var">defaultOpts</span></a><span> </span><a href="#local-6989586621679277611"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-90"></a><span>
</span><a name="line-91"></a><span class="hs-identifier">rand</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-92"></a><a name="rand"><a href="Torch.Random.html#rand"><span class="hs-identifier">rand</span></a></a><span> </span><a name="local-6989586621679277612"><a href="#local-6989586621679277612"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277613"><a href="#local-6989586621679277613"><span class="hs-identifier">opts</span></a></a><span> </span><a name="local-6989586621679277614"><a href="#local-6989586621679277614"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#generatorFactory"><span class="hs-identifier hs-var">generatorFactory</span></a><span> </span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.TensorFactories.html#rand_lpo"><span class="hs-identifier hs-var">LibTorch.rand_lpo</span></a><span> </span><a href="#local-6989586621679277612"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="#local-6989586621679277613"><span class="hs-identifier hs-var">opts</span></a><span> </span><a href="#local-6989586621679277614"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-identifier">rand'</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-95"></a><a name="rand%27"><a href="Torch.Random.html#rand%27"><span class="hs-identifier">rand'</span></a></a><span> </span><a name="local-6989586621679277615"><a href="#local-6989586621679277615"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277616"><a href="#local-6989586621679277616"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#rand"><span class="hs-identifier hs-var">rand</span></a><span> </span><a href="#local-6989586621679277615"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-var">defaultOpts</span></a><span> </span><a href="#local-6989586621679277616"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-identifier">randint</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-98"></a><a name="randint"><a href="Torch.Random.html#randint"><span class="hs-identifier">randint</span></a></a><span> </span><a name="local-6989586621679277617"><a href="#local-6989586621679277617"><span class="hs-identifier">low</span></a></a><span> </span><a name="local-6989586621679277618"><a href="#local-6989586621679277618"><span class="hs-identifier">high</span></a></a><span> </span><a name="local-6989586621679277619"><a href="#local-6989586621679277619"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277620"><a href="#local-6989586621679277620"><span class="hs-identifier">opts</span></a></a><span> </span><a name="local-6989586621679277621"><a href="#local-6989586621679277621"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#generatorFactory"><span class="hs-identifier hs-var">generatorFactory</span></a><span> </span><span class="hs-special">(</span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.TensorFactories.html#randint_lllpo"><span class="hs-identifier hs-var">LibTorch.randint_lllpo</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a><span> </span><a href="#local-6989586621679277617"><span class="hs-identifier hs-var">low</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a><span> </span><a href="#local-6989586621679277618"><span class="hs-identifier hs-var">high</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679277619"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="#local-6989586621679277620"><span class="hs-identifier hs-var">opts</span></a><span> </span><a href="#local-6989586621679277621"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-99"></a><span>
</span><a name="line-100"></a><span class="hs-identifier">randint'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-101"></a><a name="randint%27"><a href="Torch.Random.html#randint%27"><span class="hs-identifier">randint'</span></a></a><span> </span><a name="local-6989586621679277622"><a href="#local-6989586621679277622"><span class="hs-identifier">low</span></a></a><span> </span><a name="local-6989586621679277623"><a href="#local-6989586621679277623"><span class="hs-identifier">high</span></a></a><span> </span><a name="local-6989586621679277624"><a href="#local-6989586621679277624"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277625"><a href="#local-6989586621679277625"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#randint"><span class="hs-identifier hs-var">randint</span></a><span> </span><a href="#local-6989586621679277622"><span class="hs-identifier hs-var">low</span></a><span> </span><a href="#local-6989586621679277623"><span class="hs-identifier hs-var">high</span></a><span> </span><a href="#local-6989586621679277624"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-var">defaultOpts</span></a><span> </span><a href="#local-6989586621679277625"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-102"></a><span>
</span><a name="line-103"></a><span class="hs-identifier">normal</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-104"></a><a name="normal"><a href="Torch.Random.html#normal"><span class="hs-identifier">normal</span></a></a><span> </span><a name="local-6989586621679277626"><a href="#local-6989586621679277626"><span class="hs-identifier">mean</span></a></a><span> </span><a name="local-6989586621679277627"><a href="#local-6989586621679277627"><span class="hs-identifier">std</span></a></a><span> </span><a name="local-6989586621679277628"><a href="#local-6989586621679277628"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277629"><a href="#local-6989586621679277629"><span class="hs-identifier">opts</span></a></a><span> </span><a name="local-6989586621679277630"><a href="#local-6989586621679277630"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#generatorFactory"><span class="hs-identifier hs-var">generatorFactory</span></a><span> </span><span class="hs-special">(</span><a href="../../../libtorch-ffi-1.4.0.0/html/src/Torch.Internal.Managed.TensorFactories.html#normal_ddlpo"><span class="hs-identifier hs-var">LibTorch.normal_ddlpo</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a><span> </span><a href="#local-6989586621679277626"><span class="hs-identifier hs-var">mean</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#realToFrac"><span class="hs-identifier hs-var">realToFrac</span></a><span> </span><a href="#local-6989586621679277627"><span class="hs-identifier hs-var">std</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679277628"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="#local-6989586621679277629"><span class="hs-identifier hs-var">opts</span></a><span> </span><a href="#local-6989586621679277630"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-105"></a><span>
</span><a name="line-106"></a><span class="hs-identifier">normal'</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Double"><span class="hs-identifier hs-type">Double</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///nix/store/wxc91qn3x7zvxz65925aq4zhn6vmjlr7-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Torch.Tensor.html#Tensor"><span class="hs-identifier hs-type">Tensor</span></a><span class="hs-special">,</span><a href="Torch.Random.html#Generator"><span class="hs-identifier hs-type">Generator</span></a><span class="hs-special">)</span><span>
</span><a name="line-107"></a><a name="normal%27"><a href="Torch.Random.html#normal%27"><span class="hs-identifier">normal'</span></a></a><span> </span><a name="local-6989586621679277631"><a href="#local-6989586621679277631"><span class="hs-identifier">mean</span></a></a><span> </span><a name="local-6989586621679277632"><a href="#local-6989586621679277632"><span class="hs-identifier">std</span></a></a><span> </span><a name="local-6989586621679277633"><a href="#local-6989586621679277633"><span class="hs-identifier">size</span></a></a><span> </span><a name="local-6989586621679277634"><a href="#local-6989586621679277634"><span class="hs-identifier">gen</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Torch.Random.html#normal"><span class="hs-identifier hs-var">normal</span></a><span> </span><a href="#local-6989586621679277631"><span class="hs-identifier hs-var">mean</span></a><span> </span><a href="#local-6989586621679277632"><span class="hs-identifier hs-var">std</span></a><span> </span><a href="#local-6989586621679277633"><span class="hs-identifier hs-var">size</span></a><span> </span><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-var">defaultOpts</span></a><span> </span><a href="#local-6989586621679277634"><span class="hs-identifier hs-var">gen</span></a><span>
</span><a name="line-108"></a></pre></body></html>