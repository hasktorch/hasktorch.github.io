<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Torch.Data.Utils</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hasktorch-0.2.0.0: Functional differentiable programming in Haskell</span><ul class="links" id="page-menu"><li><a href="src/Torch.Data.Utils.html">Source</a></li><li><a href="../../share/doc/index.html">Contents</a></li><li><a href="../../share/doc/doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Torch.Data.Utils</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:pmap">pmap</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; (a -&gt; b) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b)</li><li class="src short"><a href="#v:pmap-39-">pmap'</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes-Core.html#t:Pipe" title="Pipes.Core">Pipe</a> a b m () -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b)</li><li class="src short"><a href="#v:pmapGroup">pmapGroup</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b)</li><li class="src short"><a href="#v:bufferedCollate">bufferedCollate</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> batch -&gt; Int -&gt; ([sample] -&gt; Maybe batch) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m batch)</li><li class="src short"><a href="#v:collate">collate</a> :: Monad m =&gt; Int -&gt; ([sample] -&gt; Maybe batch) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m batch</li><li class="src short"><a href="#v:enumerateData">enumerateData</a> :: Monad m =&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes-Core.html#t:Producer" title="Pipes.Core">Producer</a> (a, Int) m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:CachedDataset">CachedDataset</a> (m :: * -&gt; *) sample</li><li class="src short"><a href="#v:cache">cache</a> :: Monad m =&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; m (<a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a> m sample)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:pmap" class="def">pmap</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; (a -&gt; b) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b) <a href="src/Torch.Data.Utils.html#pmap" class="link">Source</a> <a href="#v:pmap" class="selflink">#</a></p><div class="doc"><p>Run a map function in parallel over the given stream.</p></div></div><div class="top"><p class="src"><a id="v:pmap-39-" class="def">pmap'</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes-Core.html#t:Pipe" title="Pipes.Core">Pipe</a> a b m () -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b) <a href="src/Torch.Data.Utils.html#pmap%27" class="link">Source</a> <a href="#v:pmap-39-" class="selflink">#</a></p><div class="doc"><p>Run a pipe in parallel over the given stream.</p></div></div><div class="top"><p class="src"><a id="v:pmapGroup" class="def">pmapGroup</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> b -&gt; (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m b) <a href="src/Torch.Data.Utils.html#pmapGroup" class="link">Source</a> <a href="#v:pmapGroup" class="selflink">#</a></p><div class="doc"><p>Map a ListT transform over the given the stream in parallel. This should be useful
 for using functions which groups elements of a stream and yields them downstream.</p></div></div><div class="top"><p class="src"><a id="v:bufferedCollate" class="def">bufferedCollate</a> :: (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:MonadIO" title="Pipes">MonadIO</a> m, <a href="Torch-Data-StreamedPipeline.html#t:MonadBaseControl" title="Torch.Data.StreamedPipeline">MonadBaseControl</a> IO m) =&gt; <a href="file:///nix/store/gi3ii02mxr2l6qd73gq29asx1kn1yvi3-pipes-concurrency-lib-pipes-concurrency-2.0.12-haddock-doc/share/doc/pipes-concurrency/html/Pipes-Concurrent.html#t:Buffer" title="Pipes.Concurrent">Buffer</a> batch -&gt; Int -&gt; ([sample] -&gt; Maybe batch) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; ContT r m (<a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m batch) <a href="src/Torch.Data.Utils.html#bufferedCollate" class="link">Source</a> <a href="#v:bufferedCollate" class="selflink">#</a></p><div class="doc"><p>Run a given batching function in parallel. See <code><a href="Torch-Data-Utils.html#v:collate" title="Torch.Data.Utils">collate</a></code> for how the
 given samples are batched.</p></div></div><div class="top"><p class="src"><a id="v:collate" class="def">collate</a> :: Monad m =&gt; Int -&gt; ([sample] -&gt; Maybe batch) -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m batch <a href="src/Torch.Data.Utils.html#collate" class="link">Source</a> <a href="#v:collate" class="selflink">#</a></p><div class="doc"><p>Run a batching function with integer batch size over the given stream. The elements of the stream are
 split into lists of the given batch size and are collated with the given function. Only Just values are yielded
 downstream. If the last chunk of samples is less than the given batch size then the batching function will be passed a list
 of length less than batch size.</p></div></div><div class="top"><p class="src"><a id="v:enumerateData" class="def">enumerateData</a> :: Monad m =&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m a -&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes-Core.html#t:Producer" title="Pipes.Core">Producer</a> (a, Int) m () <a href="src/Torch.Data.Utils.html#enumerateData" class="link">Source</a> <a href="#v:enumerateData" class="selflink">#</a></p><div class="doc"><p>Enumerate the given stream, zipping each element with an index.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CachedDataset" class="def">CachedDataset</a> (m :: * -&gt; *) sample <a href="src/Torch.Data.Utils.html#CachedDataset" class="link">Source</a> <a href="#t:CachedDataset" class="selflink">#</a></p><div class="doc"><p>An In-Memory cached dataset. See the <code><a href="Torch-Data-Utils.html#v:cache" title="Torch.Data.Utils">cache</a></code> function for
 how to create a cached dataset.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CachedDataset">Instances</h4><details id="i:CachedDataset" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CachedDataset:Dataset:1"></span> Applicative m =&gt; <a href="Torch-Data-Pipeline.html#t:Dataset" title="Torch.Data.Pipeline">Dataset</a> (m :: Type -&gt; Type) (<a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a> m sample) Int (sample :: Type)</span> <a href="src/Torch.Data.Utils.html#line-91" class="link">Source</a> <a href="#t:CachedDataset" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CachedDataset:Dataset:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Torch-Data-Utils.html">Torch.Data.Utils</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getItem">getItem</a> :: <a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a> m sample -&gt; Int -&gt; m sample <a href="src/Torch.Data.Pipeline.html#getItem" class="link">Source</a> <a href="#v:getItem" class="selflink">#</a></p><p class="src"><a href="#v:keys">keys</a> :: <a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a> m sample -&gt; Set Int <a href="src/Torch.Data.Pipeline.html#keys" class="link">Source</a> <a href="#v:keys" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:cache" class="def">cache</a> :: Monad m =&gt; <a href="file:///nix/store/2275zkfvd9na2mx7hmkq7wzrgjyxz84l-pipes-lib-pipes-4.3.15-haddock-doc/share/doc/pipes/html/Pipes.html#t:ListT" title="Pipes">ListT</a> m sample -&gt; m (<a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a> m sample) <a href="src/Torch.Data.Utils.html#cache" class="link">Source</a> <a href="#v:cache" class="selflink">#</a></p><div class="doc"><p>Enumerate a given stream and store it as a <code><a href="Torch-Data-Utils.html#t:CachedDataset" title="Torch.Data.Utils">CachedDataset</a></code>. This function should
 be used after a time consuming preprocessing pipeline and used in subsequent epochs
 to avoid repeating the preprocessing pipeline.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>