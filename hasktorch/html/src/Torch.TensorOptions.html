<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Torch.TensorOptions</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.ForeignPtr</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO.Unsafe</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Torch.DType.html"><span class="hs-identifier">Torch.DType</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Torch.Device.html"><span class="hs-identifier">Torch.Device</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Cast</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Castable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Const</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ATen</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Managed.Type.Context</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ATen</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Managed.Type.TensorOptions</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ATen</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier">Torch.Internal.Type</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ATen</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Torch.Layout.html"><span class="hs-identifier">Torch.Layout</span></a></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">type</span><span> </span><span id="ATenTensorOptions"><span class="annot"><a href="Torch.TensorOptions.html#ATenTensorOptions"><span class="hs-identifier hs-var">ATenTensorOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-type">ATen.TensorOptions</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">newtype</span><span> </span><span id="TensorOptions"><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-var">TensorOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TensorOptions"><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-var">TensorOptions</span></a></span></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#ATenTensorOptions"><span class="hs-identifier hs-type">ATenTensorOptions</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679645804"><span id="local-6989586621679645806"><span id="local-6989586621679645808"><span class="annot"><span class="annottext">Int -&gt; TensorOptions -&gt; ShowS
[TensorOptions] -&gt; ShowS
TensorOptions -&gt; String
(Int -&gt; TensorOptions -&gt; ShowS)
-&gt; (TensorOptions -&gt; String)
-&gt; ([TensorOptions] -&gt; ShowS)
-&gt; Show TensorOptions
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TensorOptions] -&gt; ShowS
$cshowList :: [TensorOptions] -&gt; ShowS
show :: TensorOptions -&gt; String
$cshow :: TensorOptions -&gt; String
showsPrec :: Int -&gt; TensorOptions -&gt; ShowS
$cshowsPrec :: Int -&gt; TensorOptions -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-type">Castable</span></a></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#ATenTensorOptions"><span class="hs-identifier hs-type">ATenTensorOptions</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>  </span><span id="local-6989586621679645799"><span class="annot"><span class="annottext">cast :: TensorOptions -&gt; (ATenTensorOptions -&gt; IO r) -&gt; IO r
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">cast</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span id="local-6989586621679645797"><span class="annot"><span class="annottext">ATenTensorOptions
</span><a href="#local-6989586621679645797"><span class="hs-identifier hs-var">aten_opts</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679645796"><span class="annot"><span class="annottext">ATenTensorOptions -&gt; IO r
</span><a href="#local-6989586621679645796"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; IO r
</span><a href="#local-6989586621679645796"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions
</span><a href="#local-6989586621679645797"><span class="hs-identifier hs-var">aten_opts</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span id="local-6989586621679645795"><span class="annot"><span class="annottext">uncast :: ATenTensorOptions -&gt; (TensorOptions -&gt; IO r) -&gt; IO r
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">uncast</span></a></span></span><span> </span><span id="local-6989586621679645793"><span class="annot"><span class="annottext">ATenTensorOptions
</span><a href="#local-6989586621679645793"><span class="hs-identifier hs-var">aten_opts</span></a></span></span><span> </span><span id="local-6989586621679645792"><span class="annot"><span class="annottext">TensorOptions -&gt; IO r
</span><a href="#local-6989586621679645792"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TensorOptions -&gt; IO r
</span><a href="#local-6989586621679645792"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(TensorOptions -&gt; IO r) -&gt; TensorOptions -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; TensorOptions
</span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-var">TensorOptions</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions
</span><a href="#local-6989586621679645793"><span class="hs-identifier hs-var">aten_opts</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="annot"><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-type">defaultOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-29"></span><span id="defaultOpts"><span class="annot"><span class="annottext">defaultOpts :: TensorOptions
</span><a href="Torch.TensorOptions.html#defaultOpts"><span class="hs-identifier hs-var hs-var">defaultOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; TensorOptions
</span><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-var">TensorOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(ATenTensorOptions -&gt; TensorOptions)
-&gt; ATenTensorOptions -&gt; TensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO ATenTensorOptions -&gt; ATenTensorOptions
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO ATenTensorOptions -&gt; ATenTensorOptions)
-&gt; IO ATenTensorOptions -&gt; ATenTensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarType -&gt; IO ATenTensorOptions
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.newTensorOptions_s</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarType
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.kFloat</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="annot"><a href="Torch.TensorOptions.html#withDType"><span class="hs-identifier hs-type">withDType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Torch.DType.html#DType"><span class="hs-identifier hs-type">DType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-33"></span><span id="withDType"><span class="annot"><span class="annottext">withDType :: DType -&gt; TensorOptions -&gt; TensorOptions
</span><a href="Torch.TensorOptions.html#withDType"><span class="hs-identifier hs-var hs-var">withDType</span></a></span></span><span> </span><span id="local-6989586621679645786"><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679645786"><span class="hs-identifier hs-var">dtype</span></a></span></span><span> </span><span id="local-6989586621679645785"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645785"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><span class="annottext">IO TensorOptions -&gt; TensorOptions
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO TensorOptions -&gt; TensorOptions)
-&gt; IO TensorOptions -&gt; TensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ATenTensorOptions -&gt; ScalarType -&gt; IO ATenTensorOptions)
-&gt; TensorOptions -&gt; DType -&gt; IO TensorOptions
forall a ca x1 cx1 y cy.
(Castable a ca, Castable x1 cx1, Castable y cy) =&gt;
(ca -&gt; cx1 -&gt; IO cy) -&gt; a -&gt; x1 -&gt; IO y
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">cast2</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; ScalarType -&gt; IO ATenTensorOptions
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.tensorOptions_dtype_s</span></a></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645785"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679645786"><span class="hs-identifier hs-var">dtype</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="annot"><a href="Torch.TensorOptions.html#withDevice"><span class="hs-identifier hs-type">withDevice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Torch.Device.html#Device"><span class="hs-identifier hs-type">Device</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-37"></span><span id="withDevice"><span class="annot"><span class="annottext">withDevice :: Device -&gt; TensorOptions -&gt; TensorOptions
</span><a href="Torch.TensorOptions.html#withDevice"><span class="hs-identifier hs-var hs-var">withDevice</span></a></span></span><span> </span><span class="annot"><a href="Torch.Device.html#Device"><span class="hs-identifier hs-type">Device</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679645779"><span id="local-6989586621679645780"><span class="annot"><span class="annottext">Int16
DeviceType
deviceIndex :: Device -&gt; Int16
deviceType :: Device -&gt; DeviceType
deviceIndex :: Int16
deviceType :: DeviceType
</span><a href="Torch.Device.html#deviceIndex"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679645776"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645776"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO TensorOptions -&gt; TensorOptions
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO TensorOptions -&gt; TensorOptions)
-&gt; IO TensorOptions -&gt; TensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-38"></span><span>  </span><span id="local-6989586621679645775"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679645775"><span class="hs-identifier hs-var">hasCUDA</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO CBool -&gt; IO Bool
forall a ca. Castable a ca =&gt; IO ca -&gt; IO a
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">cast0</span></a></span><span> </span><span class="annot"><span class="annottext">IO CBool
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.hasCUDA</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="annottext">DeviceType -&gt; Int16 -&gt; Bool -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645772"><span class="hs-identifier hs-var">withDevice'</span></a></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="#local-6989586621679645780"><span class="hs-identifier hs-var">deviceType</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645779"><span class="hs-identifier hs-var">deviceIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679645775"><span class="hs-identifier hs-var">hasCUDA</span></a></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645776"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="#local-6989586621679645771"><span class="hs-identifier hs-type">withDeviceType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Torch.Device.html#DeviceType"><span class="hs-identifier hs-type">DeviceType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span id="local-6989586621679645771"><span class="annot"><span class="annottext">withDeviceType :: DeviceType -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645771"><span class="hs-identifier hs-var hs-var">withDeviceType</span></a></span></span><span> </span><span id="local-6989586621679645770"><span class="annot"><span class="annottext">DeviceType
</span><a href="#local-6989586621679645770"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679645769"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645769"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ATenTensorOptions -&gt; Int16 -&gt; IO ATenTensorOptions)
-&gt; TensorOptions -&gt; DeviceType -&gt; IO TensorOptions
forall a ca x1 cx1 y cy.
(Castable a ca, Castable x1 cx1, Castable y cy) =&gt;
(ca -&gt; cx1 -&gt; IO cy) -&gt; a -&gt; x1 -&gt; IO y
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">cast2</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; Int16 -&gt; IO ATenTensorOptions
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.tensorOptions_device_D</span></a></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645769"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="#local-6989586621679645770"><span class="hs-identifier hs-var">dt</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="#local-6989586621679645767"><span class="hs-identifier hs-type">withDeviceIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679645767"><span class="annot"><span class="annottext">withDeviceIndex :: Int16 -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645767"><span class="hs-identifier hs-var hs-var">withDeviceIndex</span></a></span></span><span> </span><span id="local-6989586621679645766"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645766"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span id="local-6989586621679645765"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645765"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ATenTensorOptions -&gt; Int16 -&gt; IO ATenTensorOptions)
-&gt; TensorOptions -&gt; Int16 -&gt; IO TensorOptions
forall a ca x1 cx1 y cy.
(Castable a ca, Castable x1 cx1, Castable y cy) =&gt;
(ca -&gt; cx1 -&gt; IO cy) -&gt; a -&gt; x1 -&gt; IO y
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">cast2</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; Int16 -&gt; IO ATenTensorOptions
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.tensorOptions_device_index_s</span></a></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645765"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645766"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="hs-comment">-- careful, this somehow implies deviceType = CUDA</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="#local-6989586621679645772"><span class="hs-identifier hs-type">withDevice'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-46"></span><span>      </span><span class="annot"><a href="Torch.Device.html#DeviceType"><span class="hs-identifier hs-type">DeviceType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span id="local-6989586621679645772"><span class="annot"><span class="annottext">withDevice' :: DeviceType -&gt; Int16 -&gt; Bool -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645772"><span class="hs-identifier hs-var hs-var">withDevice'</span></a></span></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="Torch.Device.html#CPU"><span class="hs-identifier hs-var">CPU</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span id="local-6989586621679645762"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645762"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TensorOptions -&gt; IO TensorOptions
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645762"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="#local-6989586621679645772"><span class="hs-identifier hs-var">withDevice'</span></a></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="Torch.Device.html#CPU"><span class="hs-identifier hs-var">CPU</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621679645761"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645761"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TensorOptions -&gt; IO TensorOptions
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645761"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">IO TensorOptions
-&gt; (TensorOptions -&gt; IO TensorOptions) -&gt; IO TensorOptions
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">DeviceType -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645771"><span class="hs-identifier hs-var">withDeviceType</span></a></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="Torch.Device.html#CPU"><span class="hs-identifier hs-var">CPU</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="#local-6989586621679645772"><span class="hs-identifier hs-var">withDevice'</span></a></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="Torch.Device.html#CUDA"><span class="hs-identifier hs-var">CUDA</span></a></span><span> </span><span id="local-6989586621679645759"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645759"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621679645758"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645758"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645759"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; Int16 -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int16
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TensorOptions -&gt; IO TensorOptions
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645758"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">IO TensorOptions
-&gt; (TensorOptions -&gt; IO TensorOptions) -&gt; IO TensorOptions
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; TensorOptions -&gt; IO TensorOptions
</span><a href="#local-6989586621679645767"><span class="hs-identifier hs-var">withDeviceIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645759"><span class="hs-identifier hs-var">di</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="#local-6989586621679645772"><span class="hs-identifier hs-var">withDevice'</span></a></span><span> </span><span id="local-6989586621679645757"><span class="annot"><span class="annottext">DeviceType
</span><a href="#local-6989586621679645757"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679645756"><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645756"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; IO TensorOptions
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO TensorOptions) -&gt; String -&gt; IO TensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;cannot move tensor to \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">DeviceType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DeviceType
</span><a href="#local-6989586621679645757"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int16 -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int16
</span><a href="#local-6989586621679645756"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;&quot;</span></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><a href="Torch.TensorOptions.html#withLayout"><span class="hs-identifier hs-type">withLayout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Torch.Layout.html#Layout"><span class="hs-identifier hs-type">Layout</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Torch.TensorOptions.html#TensorOptions"><span class="hs-identifier hs-type">TensorOptions</span></a></span><span>
</span><span id="line-54"></span><span id="withLayout"><span class="annot"><span class="annottext">withLayout :: Layout -&gt; TensorOptions -&gt; TensorOptions
</span><a href="Torch.TensorOptions.html#withLayout"><span class="hs-identifier hs-var hs-var">withLayout</span></a></span></span><span> </span><span id="local-6989586621679645752"><span class="annot"><span class="annottext">Layout
</span><a href="#local-6989586621679645752"><span class="hs-identifier hs-var">layout</span></a></span></span><span> </span><span id="local-6989586621679645751"><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645751"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="annottext">IO TensorOptions -&gt; TensorOptions
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO TensorOptions -&gt; TensorOptions)
-&gt; IO TensorOptions -&gt; TensorOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ATenTensorOptions -&gt; ScalarType -&gt; IO ATenTensorOptions)
-&gt; TensorOptions -&gt; Layout -&gt; IO TensorOptions
forall a ca x1 cx1 y cy.
(Castable a ca, Castable x1 cx1, Castable y cy) =&gt;
(ca -&gt; cx1 -&gt; IO cy) -&gt; a -&gt; x1 -&gt; IO y
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">cast2</span></a></span><span> </span><span class="annot"><span class="annottext">ATenTensorOptions -&gt; ScalarType -&gt; IO ATenTensorOptions
</span><a href="../../../../libtorch-ffi/html/src"><span class="hs-identifier hs-var">ATen.tensorOptions_layout_L</span></a></span><span> </span><span class="annot"><span class="annottext">TensorOptions
</span><a href="#local-6989586621679645751"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Layout
</span><a href="#local-6989586621679645752"><span class="hs-identifier hs-var">layout</span></a></span><span>
</span><span id="line-56"></span></pre></body></html>